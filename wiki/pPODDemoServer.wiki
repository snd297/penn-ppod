#summary How to run the pPOD Demo Server

= Running the pPOD Demo Server =
  * First of all, you'll need to get [[http://mesquiteproject.org/mesquite/mesquite.html Mesquite]]
  * You'll need to get the zipped pPOD Mesquite package `pPODMesquitePackage-X.X.X.zip` from Sam.
  * Unzip it (it will expand into `pPODMesquitePackage-X.X.X`) and put the expanded directory where you want. We'll assume you put it into `${MESQUITE_HOME}/Mesquite_Folder`.
  * Add the appropriate entry in your `classpaths.xml` file, if you're using `${MESQUITE_HOME}/Mesquite_Folder` that would be
  {{{
    <classpath>./pPODMesquitePackage-X.X.X/Mesquite_Folder</classpath>
  }}}
  * Download the demo server from [http://code.google.com/p/penn-ppod/downloads/detail?name=ppod-demo-server-0.2-dist.zip ppod-demo-server-0.2-dist.zip]
  * Do `unzip ppod-demo-server-X.X.X-dist.zip` - this will create a directory `ppod-demo-server-X.X.X`
  * `cd` into `ppod-demo-server-X.X.X`
  * run 
  {{{
    ./start-ppod-demo-server &
  }}}
  You'll get a bunch of logging to standard out. To change that you can alter `config/log4j.properties` or redirect into a file.

  By default, the server listens on port 8080 for requests and on port 8081 for a shutdown command. To change this you can do 
  {{{
  ./start-ppod-demo-server some-other-port &
  }}}
  Then it will listen for shutdowns on `some-other-port + 1`.

  To stop the server run 
  {{{
    ./stop-ppod-server
  }}}
  or 
  {{{
    ./stop-ppod-server some-other-port + 1
  }}}
  if you ran on a port different than the default. Stopping may take a few seconds after the stop program returns.

  If there is already something listening on the port you choose, you'll get an error like this: 
  {{{
    Exception in thread "main" java.net.BindException: Address already in use
	at sun.nio.ch.Net.bind(Native Method)
	at sun.nio.ch.ServerSocketChannelImpl.bind(ServerSocketChannelImpl.java:126)
	at sun.nio.ch.ServerSocketAdaptor.bind(ServerSocketAdaptor.java:59)
	at org.eclipse.jetty.server.nio.SelectChannelConnector.open(SelectChannelConnector.java:170)
	at org.eclipse.jetty.server.AbstractConnector.doStart(AbstractConnector.java:356)
	at org.eclipse.jetty.server.nio.SelectChannelConnector.doStart(SelectChannelConnector.java:248)
	at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:55)
	at org.eclipse.jetty.server.Server.doStart(Server.java:269)
	at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:55)
	at edu.upenn.cis.ppod.demo.StartDemoServer.main(StartDemoServer.java:80)
  }}}
  
  Unfortunately, you'll need to stop the server yourself when this error occurs - it does not die on its own.


You should now have a pPOD server running. It is prepopulated with TreeBASE data we can query on. See [UsingThePackage here] for how to do that.