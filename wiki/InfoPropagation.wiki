#summary How a visitor travels through the entity object network

= Introduction =

The pPOD entity hierarchy is as follows:

  * `Study -> OTUSet`
    * `OTUSet -> OTU`, `Matrix`, `TreeSet`
      * `StandardMatrix -> StandardCharacter`
      * `Matrix -> Row`
        * `Row -> Cell`
      * `SequenceSet -> Sequence`
      * `TreeSet -> Tree`
  * An `Attachment` can be attached to any `PPodEntity`
  * `AttachmentNamespace`
  * `AttachmentType`

All parent-child relationships are one-to-many.

= pPOD Version Number =

These were created to enable quick notification to a client of changes in a pPOD database and to record when changes occur. The idea is that if you update an object, a new version number will get assigned up the chain of ownership. So, for example, modifying a cell in a matrix will cause the matrix, OTUSet, and Study all to get a new version number.  
 
  * `Attachment -> whatever they're attached to`
  * `StandardCharacterState -> StandardCharacter`
  * `StandardCharacter -> StandardMatrix`

  * `Cell -> Row, Matrix.getColumnVersionInfos()`
  * `Row -> Matrix`

  * `Matrix` -> `OTUSet`

  * `OTU -> OTUSet`
 
  * `Sequence -> SequenceSet`
  * `SequenceSet -> OTUSet`

  * `Tree -> TreeSet`
  * `TreeSet -> OTUSet`

  * `OTUSet -> Study`
 
 

= pPOD Visitor =

The `accept` method on the pPOD entities follows the pattern of the pPOD version number propagation, but travels in the opposite direction: it goes from `Study` downward. (It is undefined whether children are visited before or after their parent. Which has so far been okay.)

  * `Study -> OTUSet`
    * `OTUSet -> OTU, Matrix, TreeSet`
      * `Matrix -> Row`
        * `Row -> Cell`
      * `StandardMatrix -> StandardCharacter`
        * `StandardCharacter -> StandardState`
      * `SequenceSet -> Sequence`
      * `TreeSet -> Tree`
  * `PPodEntity -> Attachment`
    * `Attachment -> AttachmentType`
    * `AttachmentType -> AttachmentNamespace`

[http://upload.wikimedia.org/wikipedia/en/4/4a/Professor_Challenger.jpg]